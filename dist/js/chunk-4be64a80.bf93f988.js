(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4be64a80"],{2532:function(t,e,s){"use strict";var n=s("23e7"),i=s("e330"),a=s("5a34"),r=s("1d80"),o=s("577e"),c=s("ab13"),u=i("".indexOf);n({target:"String",proto:!0,forced:!c("includes")},{includes:function(t){return!!~u(o(r(this)),o(a(t)),arguments.length>1?arguments[1]:void 0)}})},"2e77":function(t,e,s){"use strict";s("a463")},"44e7":function(t,e,s){var n=s("861d"),i=s("c6b6"),a=s("b622"),r=a("match");t.exports=function(t){var e;return n(t)&&(void 0!==(e=t[r])?!!e:"RegExp"==i(t))}},"5a34":function(t,e,s){var n=s("da84"),i=s("44e7"),a=n.TypeError;t.exports=function(t){if(i(t))throw a("The method doesn't accept regular expressions");return t}},"67be":function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"Link"},[n("Header",[n("div",{staticClass:"jx-input"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.formaData.nickname,expression:"formaData.nickname"}],attrs:{type:"text",placeholder:"回车检索"},domProps:{value:t.formaData.nickname},on:{input:function(e){e.target.composing||t.$set(t.formaData,"nickname",e.target.value)}}}),n("img",{attrs:{src:s("e65c"),alt:""}})]),n("div",{staticClass:"header"},[t._v(t._s(t.active))])]),n("div",{staticClass:"content"},[n("div",{staticClass:"LEFT"},[n("ul",t._l(t.friendList,(function(e){return n("li",{key:e.username,class:t.active===e.username&&"active",on:{click:function(s){return t.treeClick(e)}}},[n("div",{staticClass:"logo"},[e.avatarurl?n("img",{attrs:{src:e.avatarurl,alt:"",width:"100%"}}):t._e(),e.avatarurl?t._e():n("div",[t._v(t._s(t.transTxt(e.username)))])]),n("div",{staticClass:"info"},[n("div",{staticClass:"user"},[t._v(t._s(e.username))]),n("div",{staticClass:"time"},[t._v(t._s(e.sign))])])])})),0)]),n("div",{staticClass:"RIGHT"},[n("div",{staticClass:"listFoo"},t._l(t.nowMsgList,(function(e,s){return n("div",{key:s,staticClass:"list"},[n("div",{class:e.from===t.userInfo.username?"r":"l"},[n("div",{staticClass:"logo"},[e.img?n("img",{attrs:{src:e.img,alt:"",width:"100%"}}):t._e(),e.img?t._e():n("div",[t._v(t._s(t.transTxt(e.from)))])]),n("div",{staticClass:"c-r"},[n("div",{staticClass:"tim"},[t._v(t._s(t.$dayjs(e.time).format("dddd HH:mm:ss")))]),n("div",{staticClass:"msg"},[t._v(t._s(e.msg))])])])])})),0),n("div",{staticClass:"footer"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.msg,expression:"msg"}],attrs:{type:"text",placeholder:""},domProps:{value:t.msg},on:{keydown:t.sendMsg2,input:function(e){e.target.composing||(t.msg=e.target.value)}}}),n("div",{staticClass:"btn",on:{click:function(e){return t.sendMsg()}}},[t._v("发 送")])])])])],1)},i=[],a=(s("4de4"),s("d3b7"),s("caad"),s("2532"),s("8898")),r={name:"Link",components:{},props:{},data:function(){return{active:"",msg:"",formaData:{}}},computed:{userInfo:function(){return this.$store.state.auth.userInfo},friendList:function(){return this.$store.state.auth.friendList},nowMsgList:function(){var t=this;return this.$store.state.auth.msgList.filter((function(e){return[e.from,e.to].includes(t.active)}))}},created:function(){},mounted:function(){},methods:{sendMsg:function(){var t=this;if(this.msg){var e=a["a"].conn.getUniqueId(),s=new a["a"].message("txt",e);s.set({msg:this.msg,to:"liukaiwen",ext:{time:new Date},success:function(t,e){console.log("发送文本消息成功",t,e)},fail:function(t){console.log("发送文本消息失败",t)}}),a["a"].conn.send(s.body),this.$store.commit("SET_MSGLIST",{chatType:s.body.chatType,type:s.body.type,mid:s.body.id,msg:s.body.msg,time:s.body.time,from:this.userInfo.username,to:s.body.to}),this.$nextTick((function(){var e=document.getElementsByClassName("listFoo")[0];e.scrollTop=e.scrollHeight,t.msg=""}))}},sendMsg2:function(t){if(13===t.keyCode)return this.sendMsg(),t.preventDefault(),!1},transTxt:function(t){return t.substring(t.length-2)},addContact:function(){var t="加个好友呗!";a["a"].conn.addContact("liukaiwen",t)},treeClick:function(t){this.active=t.username}}},o=r,c=(s("2e77"),s("2877")),u=Object(c["a"])(o,n,i,!1,null,"12c41a40",null);e["default"]=u.exports},a463:function(t,e,s){},ab13:function(t,e,s){var n=s("b622"),i=n("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(s){try{return e[i]=!1,"/./"[t](e)}catch(n){}}return!1}},caad:function(t,e,s){"use strict";var n=s("23e7"),i=s("4d64").includes,a=s("44d2");n({target:"Array",proto:!0},{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),a("includes")},e65c:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAA8NJREFUWEfFl02IXEUQx//VM4uzi0RQEfQkJB406MEgfuWwHtQkmICiIjm5GDGoWdw4r3pmV/AFYee96nUDqxGNip7NIaBgoh4iaPwgGMGoCBo8CAZEwYgMqzs7Jb30C+PsOO/NzMGCObzuqn/9pqtedz/C/2w0Sn4R2ejjmfnssDoDA6RpGhPRDUR0i6pe6RMT0TlV/UxVv7LWxoPAFAaYn5+/rFwuvwPg1pwEn7ZarZ2zs7O/FQEpBCAiNwL4okvQP2djWwD4X6dtYebTeRC5AHEclycmJv4EcFEQ+0VVH7XWvt0pnqbpLiJ6FcAVYfyvZrN5cRzHrX4QuQAi8jKAx4LISWbe2k9QRD4GcHvweYWZ9w4N4JzbqarZP/21UqlsnJ6e/qOf4NLS0obl5WX/VlweGnRXFEW+d3pa3xVwzu1X1ed9pKqytdbl1dTPp2kaEZEEgKejKFocCiBN00NE9LgPbrfb22q12ntFAJIkudsYczyAv2StfWIoABE5BmCbD65UKpfkLX+WJJThfHg+zszbhwV4C8ADPtgYs7larX5bZAUWFhaua7fb3wTfI8z84LAAvnYzoZZ7oih6vQiAc+4RVX0t+B5k5v1DASRJst0Y824A+CSKouz16svhnDupqreF3tlRq9V8KQd/C0JHf09Em0JDHcjb68NZ8Wzw/8Fae00/2iIbUQ1Ao0Nkmplf6CUqIvsALHXM1Zk5GQnAB4vI+wDu7BDyZ8ApAJ+HsZsB3NR1HnzAzHfl9UzuCmQCIvIwgDfyBMP8FDO/WcS3EEAcxxPj4+PPEFG9iKiqvmit9eXItVwA59xDqjoL4Poeat/5XRrAtd1zqlqz1qZ+3Dl3b7lcPjEzM/N7t19fgM49PQSeV9XnjDFflsvl05mgv6yMjY35G9JuALtXV1fvqNfrH4b+uQfA2mHEzOvy/SeAiOwB4M/3zM4YY6aq1Wr3xaTvMne+lp1gWVBPABG5QB0cDzNzdifIrWunw1AAzrkjqnq/FyKiY1EU7Rgka6PRmMz8jTGTRLS2MfkVyMazEq1bgSRJthpjPsocV1ZWrpqbmztXFCBN06eI6GARf1XdsA5ARHzdff29PcnMh4qIZT4i4vcKv2cUsaleAF8D2ByiNw360dFoNK42xvwLICuBqh640HxEPzPz4V4ATQDjAM4y89ohNIoN1ISevlQq/RgSHmXm+0ZJ7mMHBZgslUonfKBfrryjtwjcQACLi4uXtlot/x3wd7PZ3BvHsf8gGdlE5CiAn5h5ulss9ywYOXuOwD/LxozWR4O0hwAAAABJRU5ErkJggg=="}}]);
//# sourceMappingURL=chunk-4be64a80.bf93f988.js.map